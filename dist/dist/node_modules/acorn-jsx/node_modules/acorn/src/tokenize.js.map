{"version":3,"sources":["../../../../../../node_modules/acorn-jsx/node_modules/acorn/src/tokenize.js"],"names":["Token","p","type","value","start","end","options","locations","loc","startLoc","endLoc","ranges","range","pp","prototype","isRhino","Packages","Object","toString","call","next","onToken","lastTokEnd","lastTokStart","lastTokEndLoc","lastTokStartLoc","nextToken","getToken","Symbol","iterator","self","token","done","eof","setStrict","strict","num","string","pos","lineStart","input","lastIndexOf","curLine","curContext","context","length","preserveSpace","skipSpace","curPosition","finishToken","override","readToken","fullCharCodeAtPos","code","ecmaVersion","readWord","getTokenFromCode","charCodeAt","skipBlockComment","onComment","indexOf","raise","lastIndex","match","exec","index","slice","skipLineComment","startSkip","ch","loop","test","String","fromCharCode","val","prevType","updateContext","readToken_dot","readNumber","next2","ellipsis","dot","readToken_slash","exprAllowed","readRegexp","finishOp","assign","slash","readToken_mult_modulo_exp","size","tokentype","star","modulo","starstar","readToken_pipe_amp","logicalOR","logicalAND","bitwiseOR","bitwiseAND","readToken_caret","bitwiseXOR","readToken_plus_min","incDec","plusMin","readToken_lt_gt","bitShift","inModule","unexpected","relational","readToken_eq_excl","equality","arrow","eq","prefix","parenL","parenR","semi","comma","bracketL","bracketR","braceL","braceR","colon","question","backQuote","readRadixNumber","readString","codePointToString","str","tryCreateRegexp","src","flags","throwErrorAt","parser","RegExp","e","undefined","SyntaxError","message","regexpUnicodeSupport","escaped","inClass","charAt","content","mods","readWord1","tmp","tmpFlags","validFlags","replace","_match","offset","Number","regexp","pattern","readInt","radix","len","total","i","Infinity","startsWithDot","isFloat","octal","parseFloat","parseInt","readCodePoint","codePos","readHexChar","quote","out","chunkStart","readEscapedChar","readTmplToken","template","dollarBraceL","inTemplate","octalStr","substr","n","containsEsc","word","first","astral","escStart","esc","name","keywords"],"mappings":"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","file":"tokenize.js","sourcesContent":["import {isIdentifierStart, isIdentifierChar} from \"./identifier\"\nimport {types as tt, keywords as keywordTypes} from \"./tokentype\"\nimport {Parser} from \"./state\"\nimport {SourceLocation} from \"./locutil\"\nimport {lineBreak, lineBreakG, isNewLine, nonASCIIwhitespace} from \"./whitespace\"\n\n// Object type used to represent tokens. Note that normally, tokens\n// simply exist as properties on the parser object. This is only\n// used for the onToken callback and the external tokenizer.\n\nexport class Token {\n  constructor(p) {\n    this.type = p.type\n    this.value = p.value\n    this.start = p.start\n    this.end = p.end\n    if (p.options.locations)\n      this.loc = new SourceLocation(p, p.startLoc, p.endLoc)\n    if (p.options.ranges)\n      this.range = [p.start, p.end]\n  }\n}\n\n// ## Tokenizer\n\nconst pp = Parser.prototype\n\n// Are we running under Rhino?\nconst isRhino = typeof Packages == \"object\" && Object.prototype.toString.call(Packages) == \"[object JavaPackage]\"\n\n// Move to the next token\n\npp.next = function() {\n  if (this.options.onToken)\n    this.options.onToken(new Token(this))\n\n  this.lastTokEnd = this.end\n  this.lastTokStart = this.start\n  this.lastTokEndLoc = this.endLoc\n  this.lastTokStartLoc = this.startLoc\n  this.nextToken()\n}\n\npp.getToken = function() {\n  this.next()\n  return new Token(this)\n}\n\n// If we're in an ES6 environment, make parsers iterable\nif (typeof Symbol !== \"undefined\")\n  pp[Symbol.iterator] = function () {\n    let self = this\n    return {next: function () {\n      let token = self.getToken()\n      return {\n        done: token.type === tt.eof,\n        value: token\n      }\n    }}\n  }\n\n// Toggle strict mode. Re-reads the next number or string to please\n// pedantic tests (`\"use strict\"; 010;` should fail).\n\npp.setStrict = function(strict) {\n  this.strict = strict\n  if (this.type !== tt.num && this.type !== tt.string) return\n  this.pos = this.start\n  if (this.options.locations) {\n    while (this.pos < this.lineStart) {\n      this.lineStart = this.input.lastIndexOf(\"\\n\", this.lineStart - 2) + 1\n      --this.curLine\n    }\n  }\n  this.nextToken()\n}\n\npp.curContext = function() {\n  return this.context[this.context.length - 1]\n}\n\n// Read a single token, updating the parser object's token-related\n// properties.\n\npp.nextToken = function() {\n  let curContext = this.curContext()\n  if (!curContext || !curContext.preserveSpace) this.skipSpace()\n\n  this.start = this.pos\n  if (this.options.locations) this.startLoc = this.curPosition()\n  if (this.pos >= this.input.length) return this.finishToken(tt.eof)\n\n  if (curContext.override) return curContext.override(this)\n  else this.readToken(this.fullCharCodeAtPos())\n}\n\npp.readToken = function(code) {\n  // Identifier or keyword. '\\uXXXX' sequences are allowed in\n  // identifiers, so '\\' also dispatches to that.\n  if (isIdentifierStart(code, this.options.ecmaVersion >= 6) || code === 92 /* '\\' */)\n    return this.readWord()\n\n  return this.getTokenFromCode(code)\n}\n\npp.fullCharCodeAtPos = function() {\n  let code = this.input.charCodeAt(this.pos)\n  if (code <= 0xd7ff || code >= 0xe000) return code\n  let next = this.input.charCodeAt(this.pos + 1)\n  return (code << 10) + next - 0x35fdc00\n}\n\npp.skipBlockComment = function() {\n  let startLoc = this.options.onComment && this.curPosition()\n  let start = this.pos, end = this.input.indexOf(\"*/\", this.pos += 2)\n  if (end === -1) this.raise(this.pos - 2, \"Unterminated comment\")\n  this.pos = end + 2\n  if (this.options.locations) {\n    lineBreakG.lastIndex = start\n    let match\n    while ((match = lineBreakG.exec(this.input)) && match.index < this.pos) {\n      ++this.curLine\n      this.lineStart = match.index + match[0].length\n    }\n  }\n  if (this.options.onComment)\n    this.options.onComment(true, this.input.slice(start + 2, end), start, this.pos,\n                           startLoc, this.curPosition())\n}\n\npp.skipLineComment = function(startSkip) {\n  let start = this.pos\n  let startLoc = this.options.onComment && this.curPosition()\n  let ch = this.input.charCodeAt(this.pos+=startSkip)\n  while (this.pos < this.input.length && ch !== 10 && ch !== 13 && ch !== 8232 && ch !== 8233) {\n    ++this.pos\n    ch = this.input.charCodeAt(this.pos)\n  }\n  if (this.options.onComment)\n    this.options.onComment(false, this.input.slice(start + startSkip, this.pos), start, this.pos,\n                           startLoc, this.curPosition())\n}\n\n// Called at the start of the parse and after every token. Skips\n// whitespace and comments, and.\n\npp.skipSpace = function() {\n  loop: while (this.pos < this.input.length) {\n    let ch = this.input.charCodeAt(this.pos)\n    switch (ch) {\n      case 32: case 160: // ' '\n        ++this.pos\n        break\n      case 13:\n        if (this.input.charCodeAt(this.pos + 1) === 10) {\n          ++this.pos\n        }\n      case 10: case 8232: case 8233:\n        ++this.pos\n        if (this.options.locations) {\n          ++this.curLine\n          this.lineStart = this.pos\n        }\n        break\n      case 47: // '/'\n        switch (this.input.charCodeAt(this.pos + 1)) {\n          case 42: // '*'\n            this.skipBlockComment()\n            break\n          case 47:\n            this.skipLineComment(2)\n            break\n          default:\n            break loop\n        }\n        break\n      default:\n        if (ch > 8 && ch < 14 || ch >= 5760 && nonASCIIwhitespace.test(String.fromCharCode(ch))) {\n          ++this.pos\n        } else {\n          break loop\n        }\n    }\n  }\n}\n\n// Called at the end of every token. Sets `end`, `val`, and\n// maintains `context` and `exprAllowed`, and skips the space after\n// the token, so that the next one's `start` will point at the\n// right position.\n\npp.finishToken = function(type, val) {\n  this.end = this.pos\n  if (this.options.locations) this.endLoc = this.curPosition()\n  let prevType = this.type\n  this.type = type\n  this.value = val\n\n  this.updateContext(prevType)\n}\n\n// ### Token reading\n\n// This is the function that is called to fetch the next token. It\n// is somewhat obscure, because it works in character codes rather\n// than characters, and because operator parsing has been inlined\n// into it.\n//\n// All in the name of speed.\n//\npp.readToken_dot = function() {\n  let next = this.input.charCodeAt(this.pos + 1)\n  if (next >= 48 && next <= 57) return this.readNumber(true)\n  let next2 = this.input.charCodeAt(this.pos + 2)\n  if (this.options.ecmaVersion >= 6 && next === 46 && next2 === 46) { // 46 = dot '.'\n    this.pos += 3\n    return this.finishToken(tt.ellipsis)\n  } else {\n    ++this.pos\n    return this.finishToken(tt.dot)\n  }\n}\n\npp.readToken_slash = function() { // '/'\n  let next = this.input.charCodeAt(this.pos + 1)\n  if (this.exprAllowed) {++this.pos; return this.readRegexp()}\n  if (next === 61) return this.finishOp(tt.assign, 2)\n  return this.finishOp(tt.slash, 1)\n}\n\npp.readToken_mult_modulo_exp = function(code) { // '%*'\n  let next = this.input.charCodeAt(this.pos + 1)\n  let size = 1\n  let tokentype = code === 42 ? tt.star : tt.modulo\n\n  // exponentiation operator ** and **=\n  if (this.options.ecmaVersion >= 7 && next === 42) {\n    ++size\n    tokentype = tt.starstar\n    next = this.input.charCodeAt(this.pos + 2)\n  }\n\n  if (next === 61) return this.finishOp(tt.assign, size + 1)\n  return this.finishOp(tokentype, size)\n}\n\npp.readToken_pipe_amp = function(code) { // '|&'\n  let next = this.input.charCodeAt(this.pos + 1)\n  if (next === code) return this.finishOp(code === 124 ? tt.logicalOR : tt.logicalAND, 2)\n  if (next === 61) return this.finishOp(tt.assign, 2)\n  return this.finishOp(code === 124 ? tt.bitwiseOR : tt.bitwiseAND, 1)\n}\n\npp.readToken_caret = function() { // '^'\n  let next = this.input.charCodeAt(this.pos + 1)\n  if (next === 61) return this.finishOp(tt.assign, 2)\n  return this.finishOp(tt.bitwiseXOR, 1)\n}\n\npp.readToken_plus_min = function(code) { // '+-'\n  let next = this.input.charCodeAt(this.pos + 1)\n  if (next === code) {\n    if (next == 45 && this.input.charCodeAt(this.pos + 2) == 62 &&\n        lineBreak.test(this.input.slice(this.lastTokEnd, this.pos))) {\n      // A `-->` line comment\n      this.skipLineComment(3)\n      this.skipSpace()\n      return this.nextToken()\n    }\n    return this.finishOp(tt.incDec, 2)\n  }\n  if (next === 61) return this.finishOp(tt.assign, 2)\n  return this.finishOp(tt.plusMin, 1)\n}\n\npp.readToken_lt_gt = function(code) { // '<>'\n  let next = this.input.charCodeAt(this.pos + 1)\n  let size = 1\n  if (next === code) {\n    size = code === 62 && this.input.charCodeAt(this.pos + 2) === 62 ? 3 : 2\n    if (this.input.charCodeAt(this.pos + size) === 61) return this.finishOp(tt.assign, size + 1)\n    return this.finishOp(tt.bitShift, size)\n  }\n  if (next == 33 && code == 60 && this.input.charCodeAt(this.pos + 2) == 45 &&\n      this.input.charCodeAt(this.pos + 3) == 45) {\n    if (this.inModule) this.unexpected()\n    // `<!--`, an XML-style comment that should be interpreted as a line comment\n    this.skipLineComment(4)\n    this.skipSpace()\n    return this.nextToken()\n  }\n  if (next === 61) size = 2\n  return this.finishOp(tt.relational, size)\n}\n\npp.readToken_eq_excl = function(code) { // '=!'\n  let next = this.input.charCodeAt(this.pos + 1)\n  if (next === 61) return this.finishOp(tt.equality, this.input.charCodeAt(this.pos + 2) === 61 ? 3 : 2)\n  if (code === 61 && next === 62 && this.options.ecmaVersion >= 6) { // '=>'\n    this.pos += 2\n    return this.finishToken(tt.arrow)\n  }\n  return this.finishOp(code === 61 ? tt.eq : tt.prefix, 1)\n}\n\npp.getTokenFromCode = function(code) {\n  switch (code) {\n    // The interpretation of a dot depends on whether it is followed\n    // by a digit or another two dots.\n  case 46: // '.'\n    return this.readToken_dot()\n\n    // Punctuation tokens.\n  case 40: ++this.pos; return this.finishToken(tt.parenL)\n  case 41: ++this.pos; return this.finishToken(tt.parenR)\n  case 59: ++this.pos; return this.finishToken(tt.semi)\n  case 44: ++this.pos; return this.finishToken(tt.comma)\n  case 91: ++this.pos; return this.finishToken(tt.bracketL)\n  case 93: ++this.pos; return this.finishToken(tt.bracketR)\n  case 123: ++this.pos; return this.finishToken(tt.braceL)\n  case 125: ++this.pos; return this.finishToken(tt.braceR)\n  case 58: ++this.pos; return this.finishToken(tt.colon)\n  case 63: ++this.pos; return this.finishToken(tt.question)\n\n  case 96: // '`'\n    if (this.options.ecmaVersion < 6) break\n    ++this.pos\n    return this.finishToken(tt.backQuote)\n\n  case 48: // '0'\n    let next = this.input.charCodeAt(this.pos + 1)\n    if (next === 120 || next === 88) return this.readRadixNumber(16) // '0x', '0X' - hex number\n    if (this.options.ecmaVersion >= 6) {\n      if (next === 111 || next === 79) return this.readRadixNumber(8) // '0o', '0O' - octal number\n      if (next === 98 || next === 66) return this.readRadixNumber(2) // '0b', '0B' - binary number\n    }\n    // Anything else beginning with a digit is an integer, octal\n    // number, or float.\n  case 49: case 50: case 51: case 52: case 53: case 54: case 55: case 56: case 57: // 1-9\n    return this.readNumber(false)\n\n    // Quotes produce strings.\n  case 34: case 39: // '\"', \"'\"\n    return this.readString(code)\n\n    // Operators are parsed inline in tiny state machines. '=' (61) is\n    // often referred to. `finishOp` simply skips the amount of\n    // characters it is given as second argument, and returns a token\n    // of the type given by its first argument.\n\n  case 47: // '/'\n    return this.readToken_slash()\n\n  case 37: case 42: // '%*'\n    return this.readToken_mult_modulo_exp(code)\n\n  case 124: case 38: // '|&'\n    return this.readToken_pipe_amp(code)\n\n  case 94: // '^'\n    return this.readToken_caret()\n\n  case 43: case 45: // '+-'\n    return this.readToken_plus_min(code)\n\n  case 60: case 62: // '<>'\n    return this.readToken_lt_gt(code)\n\n  case 61: case 33: // '=!'\n    return this.readToken_eq_excl(code)\n\n  case 126: // '~'\n    return this.finishOp(tt.prefix, 1)\n  }\n\n  this.raise(this.pos, \"Unexpected character '\" + codePointToString(code) + \"'\")\n}\n\npp.finishOp = function(type, size) {\n  let str = this.input.slice(this.pos, this.pos + size)\n  this.pos += size\n  return this.finishToken(type, str)\n}\n\n// Parse a regular expression. Some context-awareness is necessary,\n// since a '/' inside a '[]' set does not end the expression.\n\nfunction tryCreateRegexp(src, flags, throwErrorAt, parser) {\n  try {\n    return new RegExp(src, flags)\n  } catch (e) {\n    if (throwErrorAt !== undefined) {\n      if (e instanceof SyntaxError) parser.raise(throwErrorAt, \"Error parsing regular expression: \" + e.message)\n      throw e\n    }\n  }\n}\n\nvar regexpUnicodeSupport = !!tryCreateRegexp(\"\\uffff\", \"u\")\n\npp.readRegexp = function() {\n  let escaped, inClass, start = this.pos\n  for (;;) {\n    if (this.pos >= this.input.length) this.raise(start, \"Unterminated regular expression\")\n    let ch = this.input.charAt(this.pos)\n    if (lineBreak.test(ch)) this.raise(start, \"Unterminated regular expression\")\n    if (!escaped) {\n      if (ch === \"[\") inClass = true\n      else if (ch === \"]\" && inClass) inClass = false\n      else if (ch === \"/\" && !inClass) break\n      escaped = ch === \"\\\\\"\n    } else escaped = false\n    ++this.pos\n  }\n  let content = this.input.slice(start, this.pos)\n  ++this.pos\n  // Need to use `readWord1` because '\\uXXXX' sequences are allowed\n  // here (don't ask).\n  let mods = this.readWord1()\n  let tmp = content, tmpFlags = \"\"\n  if (mods) {\n    let validFlags = /^[gim]*$/\n    if (this.options.ecmaVersion >= 6) validFlags = /^[gimuy]*$/\n    if (!validFlags.test(mods)) this.raise(start, \"Invalid regular expression flag\")\n    if (mods.indexOf(\"u\") >= 0) {\n      if (regexpUnicodeSupport) {\n        tmpFlags = \"u\"\n      } else {\n        // Replace each astral symbol and every Unicode escape sequence that\n        // possibly represents an astral symbol or a paired surrogate with a\n        // single ASCII symbol to avoid throwing on regular expressions that\n        // are only valid in combination with the `/u` flag.\n        // Note: replacing with the ASCII symbol `x` might cause false\n        // negatives in unlikely scenarios. For example, `[\\u{61}-b]` is a\n        // perfectly valid pattern that is equivalent to `[a-b]`, but it would\n        // be replaced by `[x-b]` which throws an error.\n        tmp = tmp.replace(/\\\\u\\{([0-9a-fA-F]+)\\}/g, (_match, code, offset) => {\n          code = Number(\"0x\" + code)\n          if (code > 0x10FFFF) this.raise(start + offset + 3, \"Code point out of bounds\")\n          return \"x\"\n        })\n        tmp = tmp.replace(/\\\\u([a-fA-F0-9]{4})|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]/g, \"x\")\n        tmpFlags = tmpFlags.replace(\"u\", \"\")\n      }\n    }\n  }\n  // Detect invalid regular expressions.\n  let value = null\n  // Rhino's regular expression parser is flaky and throws uncatchable exceptions,\n  // so don't do detection if we are running under Rhino\n  if (!isRhino) {\n    tryCreateRegexp(tmp, tmpFlags, start, this)\n    // Get a regular expression object for this pattern-flag pair, or `null` in\n    // case the current environment doesn't support the flags it uses.\n    value = tryCreateRegexp(content, mods)\n  }\n  return this.finishToken(tt.regexp, {pattern: content, flags: mods, value: value})\n}\n\n// Read an integer in the given radix. Return null if zero digits\n// were read, the integer value otherwise. When `len` is given, this\n// will return `null` unless the integer has exactly `len` digits.\n\npp.readInt = function(radix, len) {\n  let start = this.pos, total = 0\n  for (let i = 0, e = len == null ? Infinity : len; i < e; ++i) {\n    let code = this.input.charCodeAt(this.pos), val\n    if (code >= 97) val = code - 97 + 10 // a\n    else if (code >= 65) val = code - 65 + 10 // A\n    else if (code >= 48 && code <= 57) val = code - 48 // 0-9\n    else val = Infinity\n    if (val >= radix) break\n    ++this.pos\n    total = total * radix + val\n  }\n  if (this.pos === start || len != null && this.pos - start !== len) return null\n\n  return total\n}\n\npp.readRadixNumber = function(radix) {\n  this.pos += 2 // 0x\n  let val = this.readInt(radix)\n  if (val == null) this.raise(this.start + 2, \"Expected number in radix \" + radix)\n  if (isIdentifierStart(this.fullCharCodeAtPos())) this.raise(this.pos, \"Identifier directly after number\")\n  return this.finishToken(tt.num, val)\n}\n\n// Read an integer, octal integer, or floating-point number.\n\npp.readNumber = function(startsWithDot) {\n  let start = this.pos, isFloat = false, octal = this.input.charCodeAt(this.pos) === 48\n  if (!startsWithDot && this.readInt(10) === null) this.raise(start, \"Invalid number\")\n  let next = this.input.charCodeAt(this.pos)\n  if (next === 46) { // '.'\n    ++this.pos\n    this.readInt(10)\n    isFloat = true\n    next = this.input.charCodeAt(this.pos)\n  }\n  if (next === 69 || next === 101) { // 'eE'\n    next = this.input.charCodeAt(++this.pos)\n    if (next === 43 || next === 45) ++this.pos // '+-'\n    if (this.readInt(10) === null) this.raise(start, \"Invalid number\")\n    isFloat = true\n  }\n  if (isIdentifierStart(this.fullCharCodeAtPos())) this.raise(this.pos, \"Identifier directly after number\")\n\n  let str = this.input.slice(start, this.pos), val\n  if (isFloat) val = parseFloat(str)\n  else if (!octal || str.length === 1) val = parseInt(str, 10)\n  else if (/[89]/.test(str) || this.strict) this.raise(start, \"Invalid number\")\n  else val = parseInt(str, 8)\n  return this.finishToken(tt.num, val)\n}\n\n// Read a string value, interpreting backslash-escapes.\n\npp.readCodePoint = function() {\n  let ch = this.input.charCodeAt(this.pos), code\n\n  if (ch === 123) {\n    if (this.options.ecmaVersion < 6) this.unexpected()\n    let codePos = ++this.pos\n    code = this.readHexChar(this.input.indexOf('}', this.pos) - this.pos)\n    ++this.pos\n    if (code > 0x10FFFF) this.raise(codePos, \"Code point out of bounds\")\n  } else {\n    code = this.readHexChar(4)\n  }\n  return code\n}\n\nfunction codePointToString(code) {\n  // UTF-16 Decoding\n  if (code <= 0xFFFF) return String.fromCharCode(code)\n  code -= 0x10000\n  return String.fromCharCode((code >> 10) + 0xD800, (code & 1023) + 0xDC00)\n}\n\npp.readString = function(quote) {\n  let out = \"\", chunkStart = ++this.pos\n  for (;;) {\n    if (this.pos >= this.input.length) this.raise(this.start, \"Unterminated string constant\")\n    let ch = this.input.charCodeAt(this.pos)\n    if (ch === quote) break\n    if (ch === 92) { // '\\'\n      out += this.input.slice(chunkStart, this.pos)\n      out += this.readEscapedChar(false)\n      chunkStart = this.pos\n    } else {\n      if (isNewLine(ch)) this.raise(this.start, \"Unterminated string constant\")\n      ++this.pos\n    }\n  }\n  out += this.input.slice(chunkStart, this.pos++)\n  return this.finishToken(tt.string, out)\n}\n\n// Reads template string tokens.\n\npp.readTmplToken = function() {\n  let out = \"\", chunkStart = this.pos\n  for (;;) {\n    if (this.pos >= this.input.length) this.raise(this.start, \"Unterminated template\")\n    let ch = this.input.charCodeAt(this.pos)\n    if (ch === 96 || ch === 36 && this.input.charCodeAt(this.pos + 1) === 123) { // '`', '${'\n      if (this.pos === this.start && this.type === tt.template) {\n        if (ch === 36) {\n          this.pos += 2\n          return this.finishToken(tt.dollarBraceL)\n        } else {\n          ++this.pos\n          return this.finishToken(tt.backQuote)\n        }\n      }\n      out += this.input.slice(chunkStart, this.pos)\n      return this.finishToken(tt.template, out)\n    }\n    if (ch === 92) { // '\\'\n      out += this.input.slice(chunkStart, this.pos)\n      out += this.readEscapedChar(true)\n      chunkStart = this.pos\n    } else if (isNewLine(ch)) {\n      out += this.input.slice(chunkStart, this.pos)\n      ++this.pos\n      switch (ch) {\n        case 13:\n          if (this.input.charCodeAt(this.pos) === 10) ++this.pos\n        case 10:\n          out += \"\\n\"\n          break\n        default:\n          out += String.fromCharCode(ch)\n          break\n      }\n      if (this.options.locations) {\n        ++this.curLine\n        this.lineStart = this.pos\n      }\n      chunkStart = this.pos\n    } else {\n      ++this.pos\n    }\n  }\n}\n\n// Used to read escaped characters\n\npp.readEscapedChar = function(inTemplate) {\n  let ch = this.input.charCodeAt(++this.pos)\n  ++this.pos\n  switch (ch) {\n  case 110: return \"\\n\" // 'n' -> '\\n'\n  case 114: return \"\\r\" // 'r' -> '\\r'\n  case 120: return String.fromCharCode(this.readHexChar(2)) // 'x'\n  case 117: return codePointToString(this.readCodePoint()) // 'u'\n  case 116: return \"\\t\" // 't' -> '\\t'\n  case 98: return \"\\b\" // 'b' -> '\\b'\n  case 118: return \"\\u000b\" // 'v' -> '\\u000b'\n  case 102: return \"\\f\" // 'f' -> '\\f'\n  case 13: if (this.input.charCodeAt(this.pos) === 10) ++this.pos // '\\r\\n'\n  case 10: // ' \\n'\n    if (this.options.locations) { this.lineStart = this.pos; ++this.curLine }\n    return \"\"\n  default:\n    if (ch >= 48 && ch <= 55) {\n      let octalStr = this.input.substr(this.pos - 1, 3).match(/^[0-7]+/)[0]\n      let octal = parseInt(octalStr, 8)\n      if (octal > 255) {\n        octalStr = octalStr.slice(0, -1)\n        octal = parseInt(octalStr, 8)\n      }\n      if (octalStr !== \"0\" && (this.strict || inTemplate)) {\n        this.raise(this.pos - 2, \"Octal literal in strict mode\")\n      }\n      this.pos += octalStr.length - 1\n      return String.fromCharCode(octal)\n    }\n    return String.fromCharCode(ch)\n  }\n}\n\n// Used to read character escape sequences ('\\x', '\\u', '\\U').\n\npp.readHexChar = function(len) {\n  let codePos = this.pos\n  let n = this.readInt(16, len)\n  if (n === null) this.raise(codePos, \"Bad character escape sequence\")\n  return n\n}\n\n// Read an identifier, and return it as a string. Sets `this.containsEsc`\n// to whether the word contained a '\\u' escape.\n//\n// Incrementally adds only escaped chars, adding other chunks as-is\n// as a micro-optimization.\n\npp.readWord1 = function() {\n  this.containsEsc = false\n  let word = \"\", first = true, chunkStart = this.pos\n  let astral = this.options.ecmaVersion >= 6\n  while (this.pos < this.input.length) {\n    let ch = this.fullCharCodeAtPos()\n    if (isIdentifierChar(ch, astral)) {\n      this.pos += ch <= 0xffff ? 1 : 2\n    } else if (ch === 92) { // \"\\\"\n      this.containsEsc = true\n      word += this.input.slice(chunkStart, this.pos)\n      let escStart = this.pos\n      if (this.input.charCodeAt(++this.pos) != 117) // \"u\"\n        this.raise(this.pos, \"Expecting Unicode escape sequence \\\\uXXXX\")\n      ++this.pos\n      let esc = this.readCodePoint()\n      if (!(first ? isIdentifierStart : isIdentifierChar)(esc, astral))\n        this.raise(escStart, \"Invalid Unicode escape\")\n      word += codePointToString(esc)\n      chunkStart = this.pos\n    } else {\n      break\n    }\n    first = false\n  }\n  return word + this.input.slice(chunkStart, this.pos)\n}\n\n// Read an identifier or keyword token. Will check for reserved\n// words when necessary.\n\npp.readWord = function() {\n  let word = this.readWord1()\n  let type = tt.name\n  if ((this.options.ecmaVersion >= 6 || !this.containsEsc) && this.keywords.test(word))\n    type = keywordTypes[word]\n  return this.finishToken(type, word)\n}\n"]}