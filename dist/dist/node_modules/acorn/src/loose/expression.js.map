{"version":3,"sources":["../../../../../node_modules/acorn/src/loose/expression.js"],"names":["lp","prototype","checkLVal","expr","type","expression","dummyIdent","parseExpression","noIn","start","storeCurrentPos","parseMaybeAssign","tok","comma","node","startNodeAt","expressions","eat","push","finishNode","parseParenExpression","pushCx","expect","parenL","val","popCx","parenR","toks","isContextual","startNode","next","semicolon","canInsertSemicolon","star","startsExpr","delegate","argument","left","parseMaybeConditional","isAssign","operator","value","eq","toAssignable","right","parseExprOps","question","test","consequent","alternate","colon","indent","curIndent","line","curLineStart","parseExprOp","parseMaybeUnary","minPrec","tokenStartsLine","prec","binop","_in","rightStart","sawUnary","options","ecmaVersion","inAsync","parseAwait","prefix","update","incDec","ellipsis","parseExprSubscripts","postfix","starstar","parseSubscripts","parseExprAtom","base","noCalls","startIndent","dot","maybeAsyncArrow","name","object","property","parsePropertyAccessor","computed","bracketL","bracketR","exprList","parseExprList","arrow","parseArrowExpression","callee","arguments","backQuote","tag","quasi","parseTemplate","_this","_super","id","parseIdent","isAsync","_function","parseFunction","regexp","regex","pattern","flags","raw","input","slice","end","num","string","_null","_true","_false","keyword","parenStart","inner","params","length","pop","preserveParens","par","elements","braceL","parseObj","_class","parseClass","_new","parseNew","meta","parseTemplateElement","elem","replace","cooked","tail","curElt","quasis","braceR","properties","closes","prop","isGenerator","method","shorthand","parsePropertyName","key","kind","parseMethod","assign","last","locations","loc","initFunction","generator","async","binding","props","i","toAssignableList","parseFunctionParams","oldInAsync","body","parseBlock","close","allowEmpty","elts","elt"],"mappings":"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","file":"expression.js","sourcesContent":["import {LooseParser} from \"./state\"\nimport {isDummy} from \"./parseutil\"\nimport {tokTypes as tt} from \"../index\"\n\nconst lp = LooseParser.prototype\n\nlp.checkLVal = function(expr) {\n  if (!expr) return expr\n  switch (expr.type) {\n  case \"Identifier\":\n  case \"MemberExpression\":\n    return expr\n\n  case \"ParenthesizedExpression\":\n    expr.expression = this.checkLVal(expr.expression)\n    return expr\n\n  default:\n    return this.dummyIdent()\n  }\n}\n\nlp.parseExpression = function(noIn) {\n  let start = this.storeCurrentPos()\n  let expr = this.parseMaybeAssign(noIn)\n  if (this.tok.type === tt.comma) {\n    let node = this.startNodeAt(start)\n    node.expressions = [expr]\n    while (this.eat(tt.comma)) node.expressions.push(this.parseMaybeAssign(noIn))\n    return this.finishNode(node, \"SequenceExpression\")\n  }\n  return expr\n}\n\nlp.parseParenExpression = function() {\n  this.pushCx()\n  this.expect(tt.parenL)\n  let val = this.parseExpression()\n  this.popCx()\n  this.expect(tt.parenR)\n  return val\n}\n\nlp.parseMaybeAssign = function(noIn) {\n  if (this.toks.isContextual(\"yield\")) {\n    let node = this.startNode()\n    this.next()\n    if (this.semicolon() || this.canInsertSemicolon() || (this.tok.type != tt.star && !this.tok.type.startsExpr)) {\n      node.delegate = false\n      node.argument = null\n    } else {\n      node.delegate = this.eat(tt.star)\n      node.argument = this.parseMaybeAssign()\n    }\n    return this.finishNode(node, \"YieldExpression\")\n  }\n\n  let start = this.storeCurrentPos()\n  let left = this.parseMaybeConditional(noIn)\n  if (this.tok.type.isAssign) {\n    let node = this.startNodeAt(start)\n    node.operator = this.tok.value\n    node.left = this.tok.type === tt.eq ? this.toAssignable(left) : this.checkLVal(left)\n    this.next()\n    node.right = this.parseMaybeAssign(noIn)\n    return this.finishNode(node, \"AssignmentExpression\")\n  }\n  return left\n}\n\nlp.parseMaybeConditional = function(noIn) {\n  let start = this.storeCurrentPos()\n  let expr = this.parseExprOps(noIn)\n  if (this.eat(tt.question)) {\n    let node = this.startNodeAt(start)\n    node.test = expr\n    node.consequent = this.parseMaybeAssign()\n    node.alternate = this.expect(tt.colon) ? this.parseMaybeAssign(noIn) : this.dummyIdent()\n    return this.finishNode(node, \"ConditionalExpression\")\n  }\n  return expr\n}\n\nlp.parseExprOps = function(noIn) {\n  let start = this.storeCurrentPos()\n  let indent = this.curIndent, line = this.curLineStart\n  return this.parseExprOp(this.parseMaybeUnary(false), start, -1, noIn, indent, line)\n}\n\nlp.parseExprOp = function(left, start, minPrec, noIn, indent, line) {\n  if (this.curLineStart != line && this.curIndent < indent && this.tokenStartsLine()) return left\n  let prec = this.tok.type.binop\n  if (prec != null && (!noIn || this.tok.type !== tt._in)) {\n    if (prec > minPrec) {\n      let node = this.startNodeAt(start)\n      node.left = left\n      node.operator = this.tok.value\n      this.next()\n      if (this.curLineStart != line && this.curIndent < indent && this.tokenStartsLine()) {\n        node.right = this.dummyIdent()\n      } else {\n        let rightStart = this.storeCurrentPos()\n        node.right = this.parseExprOp(this.parseMaybeUnary(false), rightStart, prec, noIn, indent, line)\n      }\n      this.finishNode(node, /&&|\\|\\|/.test(node.operator) ? \"LogicalExpression\" : \"BinaryExpression\")\n      return this.parseExprOp(node, start, minPrec, noIn, indent, line)\n    }\n  }\n  return left\n}\n\nlp.parseMaybeUnary = function(sawUnary) {\n  let start = this.storeCurrentPos(), expr\n  if (this.options.ecmaVersion >= 8 && this.inAsync && this.toks.isContextual(\"await\")) {\n    expr = this.parseAwait()\n    sawUnary = true\n  } else if (this.tok.type.prefix) {\n    let node = this.startNode(), update = this.tok.type === tt.incDec\n    if (!update) sawUnary = true\n    node.operator = this.tok.value\n    node.prefix = true\n    this.next()\n    node.argument = this.parseMaybeUnary(true)\n    if (update) node.argument = this.checkLVal(node.argument)\n    expr = this.finishNode(node, update ? \"UpdateExpression\" : \"UnaryExpression\")\n  } else if (this.tok.type === tt.ellipsis) {\n    let node = this.startNode()\n    this.next()\n    node.argument = this.parseMaybeUnary(sawUnary)\n    expr = this.finishNode(node, \"SpreadElement\")\n  } else {\n    expr = this.parseExprSubscripts()\n    while (this.tok.type.postfix && !this.canInsertSemicolon()) {\n      let node = this.startNodeAt(start)\n      node.operator = this.tok.value\n      node.prefix = false\n      node.argument = this.checkLVal(expr)\n      this.next()\n      expr = this.finishNode(node, \"UpdateExpression\")\n    }\n  }\n\n  if (!sawUnary && this.eat(tt.starstar)) {\n    let node = this.startNodeAt(start)\n    node.operator = \"**\"\n    node.left = expr\n    node.right = this.parseMaybeUnary(false)\n    return this.finishNode(node, \"BinaryExpression\")\n  }\n\n  return expr\n}\n\nlp.parseExprSubscripts = function() {\n  let start = this.storeCurrentPos()\n  return this.parseSubscripts(this.parseExprAtom(), start, false, this.curIndent, this.curLineStart)\n}\n\nlp.parseSubscripts = function(base, start, noCalls, startIndent, line) {\n  for (;;) {\n    if (this.curLineStart != line && this.curIndent <= startIndent && this.tokenStartsLine()) {\n      if (this.tok.type == tt.dot && this.curIndent == startIndent)\n        --startIndent\n      else\n        return base\n    }\n\n    let maybeAsyncArrow = base.type === \"Identifier\" && base.name === \"async\" && !this.canInsertSemicolon()\n\n    if (this.eat(tt.dot)) {\n      let node = this.startNodeAt(start)\n      node.object = base\n      if (this.curLineStart != line && this.curIndent <= startIndent && this.tokenStartsLine())\n        node.property = this.dummyIdent()\n      else\n        node.property = this.parsePropertyAccessor() || this.dummyIdent()\n      node.computed = false\n      base = this.finishNode(node, \"MemberExpression\")\n    } else if (this.tok.type == tt.bracketL) {\n      this.pushCx()\n      this.next()\n      let node = this.startNodeAt(start)\n      node.object = base\n      node.property = this.parseExpression()\n      node.computed = true\n      this.popCx()\n      this.expect(tt.bracketR)\n      base = this.finishNode(node, \"MemberExpression\")\n    } else if (!noCalls && this.tok.type == tt.parenL) {\n      let exprList = this.parseExprList(tt.parenR)\n      if (maybeAsyncArrow && this.eat(tt.arrow))\n        return this.parseArrowExpression(this.startNodeAt(start), exprList, true)\n      let node = this.startNodeAt(start)\n      node.callee = base\n      node.arguments = exprList\n      base = this.finishNode(node, \"CallExpression\")\n    } else if (this.tok.type == tt.backQuote) {\n      let node = this.startNodeAt(start)\n      node.tag = base\n      node.quasi = this.parseTemplate()\n      base = this.finishNode(node, \"TaggedTemplateExpression\")\n    } else {\n      return base\n    }\n  }\n}\n\nlp.parseExprAtom = function() {\n  let node\n  switch (this.tok.type) {\n  case tt._this:\n  case tt._super:\n    let type = this.tok.type === tt._this ? \"ThisExpression\" : \"Super\"\n    node = this.startNode()\n    this.next()\n    return this.finishNode(node, type)\n\n  case tt.name:\n    let start = this.storeCurrentPos()\n    let id = this.parseIdent()\n    let isAsync = false\n    if (id.name === \"async\" && !this.canInsertSemicolon()) {\n      if (this.eat(tt._function))\n        return this.parseFunction(this.startNodeAt(start), false, true)\n      if (this.tok.type === tt.name) {\n        id = this.parseIdent()\n        isAsync = true\n      }\n    }\n    return this.eat(tt.arrow) ? this.parseArrowExpression(this.startNodeAt(start), [id], isAsync) : id\n\n  case tt.regexp:\n    node = this.startNode()\n    let val = this.tok.value\n    node.regex = {pattern: val.pattern, flags: val.flags}\n    node.value = val.value\n    node.raw = this.input.slice(this.tok.start, this.tok.end)\n    this.next()\n    return this.finishNode(node, \"Literal\")\n\n  case tt.num: case tt.string:\n    node = this.startNode()\n    node.value = this.tok.value\n    node.raw = this.input.slice(this.tok.start, this.tok.end)\n    this.next()\n    return this.finishNode(node, \"Literal\")\n\n  case tt._null: case tt._true: case tt._false:\n    node = this.startNode()\n    node.value = this.tok.type === tt._null ? null : this.tok.type === tt._true\n    node.raw = this.tok.type.keyword\n    this.next()\n    return this.finishNode(node, \"Literal\")\n\n  case tt.parenL:\n    let parenStart = this.storeCurrentPos()\n    this.next()\n    let inner = this.parseExpression()\n    this.expect(tt.parenR)\n    if (this.eat(tt.arrow)) {\n      // (a,)=>a // SequenceExpression makes dummy in the last hole. Drop the dummy.\n      let params = inner.expressions || [inner]\n      if (params.length && isDummy(params[params.length - 1]))\n        params.pop()\n      return this.parseArrowExpression(this.startNodeAt(parenStart), params)\n    }\n    if (this.options.preserveParens) {\n      let par = this.startNodeAt(parenStart)\n      par.expression = inner\n      inner = this.finishNode(par, \"ParenthesizedExpression\")\n    }\n    return inner\n\n  case tt.bracketL:\n    node = this.startNode()\n    node.elements = this.parseExprList(tt.bracketR, true)\n    return this.finishNode(node, \"ArrayExpression\")\n\n  case tt.braceL:\n    return this.parseObj()\n\n  case tt._class:\n    return this.parseClass(false)\n\n  case tt._function:\n    node = this.startNode()\n    this.next()\n    return this.parseFunction(node, false)\n\n  case tt._new:\n    return this.parseNew()\n\n  case tt.backQuote:\n    return this.parseTemplate()\n\n  default:\n    return this.dummyIdent()\n  }\n}\n\nlp.parseNew = function() {\n  let node = this.startNode(), startIndent = this.curIndent, line = this.curLineStart\n  let meta = this.parseIdent(true)\n  if (this.options.ecmaVersion >= 6 && this.eat(tt.dot)) {\n    node.meta = meta\n    node.property = this.parseIdent(true)\n    return this.finishNode(node, \"MetaProperty\")\n  }\n  let start = this.storeCurrentPos()\n  node.callee = this.parseSubscripts(this.parseExprAtom(), start, true, startIndent, line)\n  if (this.tok.type == tt.parenL) {\n    node.arguments = this.parseExprList(tt.parenR)\n  } else {\n    node.arguments = []\n  }\n  return this.finishNode(node, \"NewExpression\")\n}\n\nlp.parseTemplateElement = function() {\n  let elem = this.startNode()\n  elem.value = {\n    raw: this.input.slice(this.tok.start, this.tok.end).replace(/\\r\\n?/g, \"\\n\"),\n    cooked: this.tok.value\n  }\n  this.next()\n  elem.tail = this.tok.type === tt.backQuote\n  return this.finishNode(elem, \"TemplateElement\")\n}\n\nlp.parseTemplate = function() {\n  let node = this.startNode()\n  this.next()\n  node.expressions = []\n  let curElt = this.parseTemplateElement()\n  node.quasis = [curElt]\n  while (!curElt.tail) {\n    this.next()\n    node.expressions.push(this.parseExpression())\n    if (this.expect(tt.braceR)) {\n      curElt = this.parseTemplateElement()\n    } else {\n      curElt = this.startNode()\n      curElt.value = {cooked: \"\", raw: \"\"}\n      curElt.tail = true\n      this.finishNode(curElt, \"TemplateElement\")\n    }\n    node.quasis.push(curElt)\n  }\n  this.expect(tt.backQuote)\n  return this.finishNode(node, \"TemplateLiteral\")\n}\n\nlp.parseObj = function() {\n  let node = this.startNode()\n  node.properties = []\n  this.pushCx()\n  let indent = this.curIndent + 1, line = this.curLineStart\n  this.eat(tt.braceL)\n  if (this.curIndent + 1 < indent) { indent = this.curIndent; line = this.curLineStart }\n  while (!this.closes(tt.braceR, indent, line)) {\n    let prop = this.startNode(), isGenerator, isAsync, start\n    if (this.options.ecmaVersion >= 6) {\n      start = this.storeCurrentPos()\n      prop.method = false\n      prop.shorthand = false\n      isGenerator = this.eat(tt.star)\n    }\n    this.parsePropertyName(prop)\n    if (!prop.computed &&\n        prop.key.type === \"Identifier\" && prop.key.name === \"async\" && this.tok.type !== tt.parenL &&\n        this.tok.type !== tt.colon && !this.canInsertSemicolon()) {\n      this.parsePropertyName(prop)\n      isAsync = true\n    } else {\n      isAsync = false\n    }\n    if (isDummy(prop.key)) { if (isDummy(this.parseMaybeAssign())) this.next(); this.eat(tt.comma); continue }\n    if (this.eat(tt.colon)) {\n      prop.kind = \"init\"\n      prop.value = this.parseMaybeAssign()\n    } else if (this.options.ecmaVersion >= 6 && (this.tok.type === tt.parenL || this.tok.type === tt.braceL)) {\n      prop.kind = \"init\"\n      prop.method = true\n      prop.value = this.parseMethod(isGenerator, isAsync)\n    } else if (this.options.ecmaVersion >= 5 && prop.key.type === \"Identifier\" &&\n               !prop.computed && (prop.key.name === \"get\" || prop.key.name === \"set\") &&\n               (this.tok.type != tt.comma && this.tok.type != tt.braceR)) {\n      prop.kind = prop.key.name\n      this.parsePropertyName(prop)\n      prop.value = this.parseMethod(false)\n    } else {\n      prop.kind = \"init\"\n      if (this.options.ecmaVersion >= 6) {\n        if (this.eat(tt.eq)) {\n          let assign = this.startNodeAt(start)\n          assign.operator = \"=\"\n          assign.left = prop.key\n          assign.right = this.parseMaybeAssign()\n          prop.value = this.finishNode(assign, \"AssignmentExpression\")\n        } else {\n          prop.value = prop.key\n        }\n      } else {\n        prop.value = this.dummyIdent()\n      }\n      prop.shorthand = true\n    }\n    node.properties.push(this.finishNode(prop, \"Property\"))\n    this.eat(tt.comma)\n  }\n  this.popCx()\n  if (!this.eat(tt.braceR)) {\n    // If there is no closing brace, make the node span to the start\n    // of the next token (this is useful for Tern)\n    this.last.end = this.tok.start\n    if (this.options.locations) this.last.loc.end = this.tok.loc.start\n  }\n  return this.finishNode(node, \"ObjectExpression\")\n}\n\nlp.parsePropertyName = function(prop) {\n  if (this.options.ecmaVersion >= 6) {\n    if (this.eat(tt.bracketL)) {\n      prop.computed = true\n      prop.key = this.parseExpression()\n      this.expect(tt.bracketR)\n      return\n    } else {\n      prop.computed = false\n    }\n  }\n  let key = (this.tok.type === tt.num || this.tok.type === tt.string) ? this.parseExprAtom() : this.parseIdent()\n  prop.key = key || this.dummyIdent()\n}\n\nlp.parsePropertyAccessor = function() {\n  if (this.tok.type === tt.name || this.tok.type.keyword) return this.parseIdent()\n}\n\nlp.parseIdent = function() {\n  let name = this.tok.type === tt.name ? this.tok.value : this.tok.type.keyword\n  if (!name) return this.dummyIdent()\n  let node = this.startNode()\n  this.next()\n  node.name = name\n  return this.finishNode(node, \"Identifier\")\n}\n\nlp.initFunction = function(node) {\n  node.id = null\n  node.params = []\n  if (this.options.ecmaVersion >= 6) {\n    node.generator = false\n    node.expression = false\n  }\n  if (this.options.ecmaVersion >= 8)\n    node.async = false\n}\n\n// Convert existing expression atom to assignable pattern\n// if possible.\n\nlp.toAssignable = function(node, binding) {\n  if (!node || node.type == \"Identifier\" || (node.type == \"MemberExpression\" && !binding)) {\n    // Okay\n  } else if (node.type == \"ParenthesizedExpression\") {\n    node.expression = this.toAssignable(node.expression, binding)\n  } else if (this.options.ecmaVersion < 6) {\n    return this.dummyIdent()\n  } else if (node.type == \"ObjectExpression\") {\n    node.type = \"ObjectPattern\"\n    let props = node.properties\n    for (let i = 0; i < props.length; i++)\n      props[i].value = this.toAssignable(props[i].value, binding)\n  } else if (node.type == \"ArrayExpression\") {\n    node.type = \"ArrayPattern\"\n    this.toAssignableList(node.elements, binding)\n  } else if (node.type == \"SpreadElement\") {\n    node.type = \"RestElement\"\n    node.argument = this.toAssignable(node.argument, binding)\n  } else if (node.type == \"AssignmentExpression\") {\n    node.type = \"AssignmentPattern\"\n    delete node.operator\n  } else {\n    return this.dummyIdent()\n  }\n  return node\n}\n\nlp.toAssignableList = function(exprList, binding) {\n  for (let i = 0; i < exprList.length; i++)\n    exprList[i] = this.toAssignable(exprList[i], binding)\n  return exprList\n}\n\nlp.parseFunctionParams = function(params) {\n  params = this.parseExprList(tt.parenR)\n  return this.toAssignableList(params, true)\n}\n\nlp.parseMethod = function(isGenerator, isAsync) {\n  let node = this.startNode(), oldInAsync = this.inAsync\n  this.initFunction(node)\n  if (this.options.ecmaVersion >= 6)\n    node.generator = !!isGenerator\n  if (this.options.ecmaVersion >= 8)\n    node.async = !!isAsync\n  this.inAsync = node.async\n  node.params = this.parseFunctionParams()\n  node.expression = this.options.ecmaVersion >= 6 && this.tok.type !== tt.braceL\n  node.body = node.expression ? this.parseMaybeAssign() : this.parseBlock()\n  this.inAsync = oldInAsync\n  return this.finishNode(node, \"FunctionExpression\")\n}\n\nlp.parseArrowExpression = function(node, params, isAsync) {\n  let oldInAsync = this.inAsync\n  this.initFunction(node)\n  if (this.options.ecmaVersion >= 8)\n    node.async = !!isAsync\n  this.inAsync = node.async\n  node.params = this.toAssignableList(params, true)\n  node.expression = this.tok.type !== tt.braceL\n  node.body = node.expression ? this.parseMaybeAssign() : this.parseBlock()\n  this.inAsync = oldInAsync\n  return this.finishNode(node, \"ArrowFunctionExpression\")\n}\n\nlp.parseExprList = function(close, allowEmpty) {\n  this.pushCx()\n  let indent = this.curIndent, line = this.curLineStart, elts = []\n  this.next() // Opening bracket\n  while (!this.closes(close, indent + 1, line)) {\n    if (this.eat(tt.comma)) {\n      elts.push(allowEmpty ? null : this.dummyIdent())\n      continue\n    }\n    let elt = this.parseMaybeAssign()\n    if (isDummy(elt)) {\n      if (this.closes(close, indent, line)) break\n      this.next()\n    } else {\n      elts.push(elt)\n    }\n    this.eat(tt.comma)\n  }\n  this.popCx()\n  if (!this.eat(close)) {\n    // If there is no closing brace, make the node span to the start\n    // of the next token (this is useful for Tern)\n    this.last.end = this.tok.start\n    if (this.options.locations) this.last.loc.end = this.tok.loc.start\n  }\n  return elts\n}\n\nlp.parseAwait = function() {\n  let node = this.startNode()\n  this.next()\n  node.argument = this.parseMaybeUnary()\n  return this.finishNode(node, \"AwaitExpression\")\n}\n"]}