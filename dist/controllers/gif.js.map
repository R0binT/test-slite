{"version":3,"sources":["../../controllers/gif.js"],"names":["giphy","exports","getGifs","req","res","params","gifQuery","status","send","search","q","limit","then","emojis","json","catch","err","favoriteGif","gif","type","body","meta","userId","user","_id","save","message","data"],"mappings":";;AAAA;;;;AACA;;;;;;AAGA,IAAIA,QAAQ,yBAAZ;;AAEAC,QAAQC,OAAR,GAAkB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC9B,MAAI,CAACD,IAAIE,MAAJ,CAAWC,QAAhB,EAA0B;AACxBF,QAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,aAArB;AACD,GAFD,MAEO;AACLR,UAAMS,MAAN,CAAa;AACXC,SAAGP,IAAIE,MAAJ,CAAWC,QADH;AAEXK,aAAO;AAFI,KAAb,EAICC,IAJD,CAIM,UAACC,MAAD,EAAY;AAChBT,UAAIU,IAAJ,CAASD,MAAT;AACD,KAND,EAOCE,KAPD,CAOO,UAACC,GAAD,EAAS;AACdZ,UAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqBQ,GAArB;AACD,KATD;AAUD;AACF,CAfD;;AAiBAf,QAAQgB,WAAR,GAAsB,UAACd,GAAD,EAAMC,GAAN,EAAc;AAClC,MAAIc,MAAM,mBAAV;;AAEAA,MAAIC,IAAJ,GAAWhB,IAAIiB,IAAJ,CAASD,IAApB;AACAD,MAAIG,IAAJ,GAAWlB,IAAIiB,IAAJ,CAASC,IAApB;AACAH,MAAII,MAAJ,GAAanB,IAAIoB,IAAJ,CAASC,GAAtB;;AAEAN,MAAIO,IAAJ,CAAS,UAACT,GAAD,EAAS;AAChB,QAAIA,GAAJ,EAAS,OAAOZ,IAAII,IAAJ,CAASQ,GAAT,CAAP;;AAETZ,QAAIU,IAAJ,CAAS,EAAEY,SAAS,aAAX,EAA0BC,MAAMT,GAAhC,EAAT;AACD,GAJD;AAKD,CAZD","file":"gif.js","sourcesContent":["import giphyApi from 'giphy-api';\nimport Gif from '../models/gif';\n\n\nlet giphy = giphyApi();\n\nexports.getGifs = (req, res) => {\n  if (!req.params.gifQuery) {\n    res.status(400).send('query empty')\n  } else {\n    giphy.search({\n      q: req.params.gifQuery,\n      limit: 20\n    })\n    .then((emojis) => {\n      res.json(emojis);\n    })\n    .catch((err) => {\n      res.status(401).send(err)\n    })\n  }\n};\n\nexports.favoriteGif = (req, res) => {\n  var gif = new Gif();\n\n  gif.type = req.body.type;\n  gif.meta = req.body.meta;\n  gif.userId = req.user._id;\n\n  gif.save((err) => {\n    if (err) return res.send(err);\n\n    res.json({ message: 'Emoji saved', data: gif });\n  });\n}\n"]}