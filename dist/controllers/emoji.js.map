{"version":3,"sources":["../../controllers/emoji.js"],"names":["exports","getEmoji","req","res","params","emojiQuery","status","send","ret","search","json","favoriteEmoji","emoji","type","body","meta","userId","user","_id","save","err","message","data"],"mappings":";;AAAA;;;;AACA;;;;;;AAEAA,QAAQC,QAAR,GAAmB,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC/B,MAAI,CAACD,IAAIE,MAAJ,CAAWC,UAAhB,EAA4B;AAC1BF,QAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,aAArB;AACD,GAFD,MAEO;AACL,QAAIC,MAAM,oBAAUC,MAAV,CAAiBP,IAAIE,MAAJ,CAAWC,UAA5B,CAAV;AACA,QAAIG,GAAJ,EAAS;AACPL,UAAIG,MAAJ,CAAW,GAAX,EAAgBI,IAAhB,CAAqBF,GAArB;AACD,KAFD,MAEO;AACLL,UAAIG,MAAJ,CAAW,GAAX,EAAgBC,IAAhB;AACD;AACF;AACF,CAXD;;AAcAP,QAAQW,aAAR,GAAwB,UAACT,GAAD,EAAMC,GAAN,EAAc;AAClC,MAAIS,QAAQ,qBAAZ;;AAEAA,QAAMC,IAAN,GAAaX,IAAIY,IAAJ,CAASD,IAAtB;AACAD,QAAMG,IAAN,GAAab,IAAIY,IAAJ,CAASC,IAAtB;AACAH,QAAMI,MAAN,GAAed,IAAIe,IAAJ,CAASC,GAAxB;;AAEAN,QAAMO,IAAN,CAAW,UAACC,GAAD,EAAS;AAClB,QAAIA,GAAJ,EAAS,OAAOjB,IAAII,IAAJ,CAASa,GAAT,CAAP;;AAETjB,QAAIO,IAAJ,CAAS,EAAEW,SAAS,aAAX,EAA0BC,MAAMV,KAAhC,EAAT;AACD,GAJD;AAKH,CAZD","file":"emoji.js","sourcesContent":["import nodeEmoji from 'node-emoji';\nimport Emoji from '../models/emoji';\n\nexports.getEmoji = (req, res) => {\n  if (!req.params.emojiQuery) {\n    res.status(400).send('query empty')\n  } else {\n    let ret = nodeEmoji.search(req.params.emojiQuery);\n    if (ret) {\n      res.status(200).json(ret);\n    } else {\n      res.status(204).send();\n    }\n  }\n};\n\n\nexports.favoriteEmoji = (req, res) => {\n    var emoji = new Emoji();\n\n    emoji.type = req.body.type;\n    emoji.meta = req.body.meta;\n    emoji.userId = req.user._id;\n\n    emoji.save((err) => {\n      if (err) return res.send(err);\n\n      res.json({ message: 'Emoji saved', data: emoji });\n    });\n};\n"]}